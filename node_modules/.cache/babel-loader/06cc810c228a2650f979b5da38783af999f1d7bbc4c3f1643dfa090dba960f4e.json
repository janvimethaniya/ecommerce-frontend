{"ast":null,"code":"var _jsxFileName = \"D:\\\\new mern stack\\\\react\\\\project4\\\\ecommerce\\\\src\\\\Context\\\\Shopcontext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShopContext = /*#__PURE__*/createContext(null);\nconst ShopContextProvider = ({\n  children\n}) => {\n  _s();\n  const [all_product, setAll_Product] = useState([]);\n  const [cartItems, setCartItems] = useState({}); // ðŸ”¥ EMPTY OBJECT\n\n  /* ================= FETCH PRODUCTS ================= */\n  useEffect(() => {\n    fetch(\"http://localhost:7000/allproducts\").then(res => res.json()).then(data => setAll_Product(data)).catch(err => console.error(\"Product fetch error:\", err));\n  }, []);\n\n  /* ================= ADD TO CART ================= */\n  const addToCart = itemId => {\n    setCartItems(prev => {\n      const existing = prev[itemId] || {\n        qty: 0,\n        size: \"\"\n      };\n      return {\n        ...prev,\n        [itemId]: {\n          ...existing,\n          qty: existing.qty + 1\n        }\n      };\n    });\n  };\n\n  /* ================= ADD TO CART WITH SIZE ================= */\n  const addToCartWithSize = (itemId, size) => {\n    setCartItems(prev => {\n      const existing = prev[itemId] || {\n        qty: 0,\n        size: \"\"\n      };\n      return {\n        ...prev,\n        [itemId]: {\n          qty: existing.qty + 1,\n          size\n        }\n      };\n    });\n  };\n\n  /* ================= REMOVE (âˆ’1) ================= */\n  const removeFromCart = itemId => {\n    setCartItems(prev => {\n      if (!prev[itemId]) return prev;\n      const newQty = prev[itemId].qty - 1;\n      if (newQty <= 0) {\n        const updated = {\n          ...prev\n        };\n        delete updated[itemId];\n        return updated;\n      }\n      return {\n        ...prev,\n        [itemId]: {\n          ...prev[itemId],\n          qty: newQty\n        }\n      };\n    });\n  };\n\n  /* ================= SET EXACT QUANTITY (EDIT) ================= */\n  const setItemQuantity = (itemId, qty) => {\n    setCartItems(prev => {\n      if (qty <= 0) {\n        const updated = {\n          ...prev\n        };\n        delete updated[itemId];\n        return updated;\n      }\n      return {\n        ...prev,\n        [itemId]: {\n          ...(prev[itemId] || {}),\n          qty\n        }\n      };\n    });\n  };\n\n  /* ================= DELETE ITEM ================= */\n  const deleteFromCart = itemId => {\n    setCartItems(prev => {\n      const updated = {\n        ...prev\n      };\n      delete updated[itemId];\n      return updated;\n    });\n  };\n\n  /* ================= TOTAL ITEMS (NAVBAR COUNT) ================= */\n  const getTotalItems = () => {\n    return Object.values(cartItems).reduce((total, item) => total + item.qty, 0);\n  };\n\n  /* ================= CONTEXT VALUE ================= */\n  const contextValue = {\n    all_product,\n    cartItems,\n    addToCart,\n    addToCartWithSize,\n    removeFromCart,\n    setItemQuantity,\n    deleteFromCart,\n    getTotalItems\n  };\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n_s(ShopContextProvider, \"9DORaaaqBQKAuooA2SGpX1l+LXo=\");\n_c = ShopContextProvider;\nexport default ShopContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ShopContextProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","jsxDEV","_jsxDEV","ShopContext","ShopContextProvider","children","_s","all_product","setAll_Product","cartItems","setCartItems","fetch","then","res","json","data","catch","err","console","error","addToCart","itemId","prev","existing","qty","size","addToCartWithSize","removeFromCart","newQty","updated","setItemQuantity","deleteFromCart","getTotalItems","Object","values","reduce","total","item","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/new mern stack/react/project4/ecommerce/src/Context/Shopcontext.jsx"],"sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst ShopContextProvider = ({ children }) => {\r\n  const [all_product, setAll_Product] = useState([]);\r\n  const [cartItems, setCartItems] = useState({}); // ðŸ”¥ EMPTY OBJECT\r\n\r\n  /* ================= FETCH PRODUCTS ================= */\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:7000/allproducts\")\r\n      .then((res) => res.json())\r\n      .then((data) => setAll_Product(data))\r\n      .catch((err) => console.error(\"Product fetch error:\", err));\r\n  }, []);\r\n\r\n  /* ================= ADD TO CART ================= */\r\n  const addToCart = (itemId) => {\r\n    setCartItems((prev) => {\r\n      const existing = prev[itemId] || { qty: 0, size: \"\" };\r\n      return {\r\n        ...prev,\r\n        [itemId]: {\r\n          ...existing,\r\n          qty: existing.qty + 1,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  /* ================= ADD TO CART WITH SIZE ================= */\r\n  const addToCartWithSize = (itemId, size) => {\r\n    setCartItems((prev) => {\r\n      const existing = prev[itemId] || { qty: 0, size: \"\" };\r\n      return {\r\n        ...prev,\r\n        [itemId]: {\r\n          qty: existing.qty + 1,\r\n          size,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  /* ================= REMOVE (âˆ’1) ================= */\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prev) => {\r\n      if (!prev[itemId]) return prev;\r\n\r\n      const newQty = prev[itemId].qty - 1;\r\n\r\n      if (newQty <= 0) {\r\n        const updated = { ...prev };\r\n        delete updated[itemId];\r\n        return updated;\r\n      }\r\n\r\n      return {\r\n        ...prev,\r\n        [itemId]: {\r\n          ...prev[itemId],\r\n          qty: newQty,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  /* ================= SET EXACT QUANTITY (EDIT) ================= */\r\n  const setItemQuantity = (itemId, qty) => {\r\n    setCartItems((prev) => {\r\n      if (qty <= 0) {\r\n        const updated = { ...prev };\r\n        delete updated[itemId];\r\n        return updated;\r\n      }\r\n\r\n      return {\r\n        ...prev,\r\n        [itemId]: {\r\n          ...(prev[itemId] || {}),\r\n          qty,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  /* ================= DELETE ITEM ================= */\r\n  const deleteFromCart = (itemId) => {\r\n    setCartItems((prev) => {\r\n      const updated = { ...prev };\r\n      delete updated[itemId];\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  /* ================= TOTAL ITEMS (NAVBAR COUNT) ================= */\r\n  const getTotalItems = () => {\r\n    return Object.values(cartItems).reduce(\r\n      (total, item) => total + item.qty,\r\n      0\r\n    );\r\n  };\r\n\r\n  /* ================= CONTEXT VALUE ================= */\r\n  const contextValue = {\r\n    all_product,\r\n    cartItems,\r\n    addToCart,\r\n    addToCartWithSize,\r\n    removeFromCart,\r\n    setItemQuantity,\r\n    deleteFromCart,\r\n    getTotalItems,\r\n  };\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValue}>\r\n      {children}\r\n    </ShopContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ShopContextProvider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}