{"ast":null,"code":"var _jsxFileName = \"D:\\\\new mern stack\\\\react\\\\project4\\\\ecommerce\\\\src\\\\Component\\\\MyOrder\\\\MyOrder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './myorder.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyOrder = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [expandedOrder, setExpandedOrder] = useState(null);\n  const [tracking, setTracking] = useState({});\n  const userId = localStorage.getItem('userId'); // or from auth\n\n  // Fetch user orders\n  useEffect(() => {\n    const fetchOrders = async () => {\n      const res = await fetch(`http://localhost:7000/my-orders/${userId}`);\n      const data = await res.json();\n      setOrders(data);\n    };\n    fetchOrders();\n  }, []);\n\n  // Fetch tracking for order\n  const fetchTracking = async orderId => {\n    if (tracking[orderId]) return;\n    const res = await fetch(`http://localhost:7000/order-entries/${orderId}`);\n    const data = await res.json();\n    setTracking(prev => ({\n      ...prev,\n      [orderId]: data\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-orders\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCE6 My Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), orders.map(order => {\n      var _tracking$order$_id;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-order-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-order-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Order ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 16\n            }, this), \" \", order._id.slice(-8)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 16\n            }, this), \" \\u20B9\", order.totalAmount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `status ${order.status}`,\n            children: order.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"track-btn\",\n          onClick: () => {\n            setExpandedOrder(expandedOrder === order._id ? null : order._id);\n            fetchTracking(order._id);\n          },\n          children: expandedOrder === order._id ? 'â–² Hide Tracking' : 'â–¼ Track Order'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), expandedOrder === order._id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tracking-box\",\n          children: ((_tracking$order$_id = tracking[order._id]) === null || _tracking$order$_id === void 0 ? void 0 : _tracking$order$_id.length) > 0 ? tracking[order._id].map((t, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tracking-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"action\",\n                children: t.action\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 23\n              }, this), t.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"notes\",\n                children: t.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 35\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"time\",\n                children: new Date(t.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No tracking updates yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, order._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(MyOrder, \"TDD2Qcs091zQ6sJ76X/t8Mm/2jY=\");\n_c = MyOrder;\nexport default MyOrder;\nvar _c;\n$RefreshReg$(_c, \"MyOrder\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","MyOrder","_s","orders","setOrders","expandedOrder","setExpandedOrder","tracking","setTracking","userId","localStorage","getItem","fetchOrders","res","fetch","data","json","fetchTracking","orderId","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","order","_tracking$order$_id","_id","slice","totalAmount","status","onClick","length","t","i","action","notes","Date","timestamp","toLocaleString","_c","$RefreshReg$"],"sources":["D:/new mern stack/react/project4/ecommerce/src/Component/MyOrder/MyOrder.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './myorder.css'\r\n\r\nconst MyOrder= () => {\r\n  const [orders, setOrders] = useState([])\r\n  const [expandedOrder, setExpandedOrder] = useState(null)\r\n  const [tracking, setTracking] = useState({})\r\n\r\n  const userId = localStorage.getItem('userId') // or from auth\r\n\r\n  // Fetch user orders\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      const res = await fetch(`http://localhost:7000/my-orders/${userId}`)\r\n      const data = await res.json()\r\n      setOrders(data)\r\n    }\r\n    fetchOrders()\r\n  }, [])\r\n\r\n  // Fetch tracking for order\r\n  const fetchTracking = async (orderId) => {\r\n    if (tracking[orderId]) return\r\n\r\n    const res = await fetch(`http://localhost:7000/order-entries/${orderId}`)\r\n    const data = await res.json()\r\n    setTracking(prev => ({ ...prev, [orderId]: data }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"my-orders\">\r\n      <h2>ðŸ“¦ My Orders</h2>\r\n\r\n      {orders.map(order => (\r\n        <div key={order._id} className=\"my-order-card\">\r\n          <div className=\"my-order-header\">\r\n            <p><strong>Order ID:</strong> {order._id.slice(-8)}</p>\r\n            <p><strong>Total:</strong> â‚¹{order.totalAmount}</p>\r\n            <p className={`status ${order.status}`}>{order.status}</p>\r\n          </div>\r\n\r\n          <button\r\n            className=\"track-btn\"\r\n            onClick={() => {\r\n              setExpandedOrder(expandedOrder === order._id ? null : order._id)\r\n              fetchTracking(order._id)\r\n            }}\r\n          >\r\n            {expandedOrder === order._id ? 'â–² Hide Tracking' : 'â–¼ Track Order'}\r\n          </button>\r\n\r\n          {expandedOrder === order._id && (\r\n            <div className=\"tracking-box\">\r\n              {tracking[order._id]?.length > 0 ? (\r\n                tracking[order._id].map((t, i) => (\r\n                  <div key={i} className=\"tracking-item\">\r\n                    <span className=\"dot\"></span>\r\n                    <div>\r\n                      <p className=\"action\">{t.action}</p>\r\n                      {t.notes && <p className=\"notes\">{t.notes}</p>}\r\n                      <p className=\"time\">\r\n                        {new Date(t.timestamp).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p>No tracking updates yet</p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyOrder\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,eAAe;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEtB,MAAMC,OAAO,GAAEA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACO,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE5C,MAAMW,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAC;;EAE9C;EACAd,SAAS,CAAC,MAAM;IACd,MAAMe,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAmCL,MAAM,EAAE,CAAC;MACpE,MAAMM,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC7BZ,SAAS,CAACW,IAAI,CAAC;IACjB,CAAC;IACDH,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMK,aAAa,GAAG,MAAOC,OAAO,IAAK;IACvC,IAAIX,QAAQ,CAACW,OAAO,CAAC,EAAE;IAEvB,MAAML,GAAG,GAAG,MAAMC,KAAK,CAAC,uCAAuCI,OAAO,EAAE,CAAC;IACzE,MAAMH,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;IAC7BR,WAAW,CAACW,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACD,OAAO,GAAGH;IAAK,CAAC,CAAC,CAAC;EACrD,CAAC;EAED,oBACEf,OAAA;IAAKoB,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBrB,OAAA;MAAAqB,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEpBtB,MAAM,CAACuB,GAAG,CAACC,KAAK;MAAA,IAAAC,mBAAA;MAAA,oBACf5B,OAAA;QAAqBoB,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5CrB,OAAA;UAAKoB,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BrB,OAAA;YAAAqB,QAAA,gBAAGrB,OAAA;cAAAqB,QAAA,EAAQ;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACE,KAAK,CAACE,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;UAAA;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvDzB,OAAA;YAAAqB,QAAA,gBAAGrB,OAAA;cAAAqB,QAAA,EAAQ;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,WAAE,EAACE,KAAK,CAACI,WAAW;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnDzB,OAAA;YAAGoB,SAAS,EAAE,UAAUO,KAAK,CAACK,MAAM,EAAG;YAAAX,QAAA,EAAEM,KAAK,CAACK;UAAM;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC,eAENzB,OAAA;UACEoB,SAAS,EAAC,WAAW;UACrBa,OAAO,EAAEA,CAAA,KAAM;YACb3B,gBAAgB,CAACD,aAAa,KAAKsB,KAAK,CAACE,GAAG,GAAG,IAAI,GAAGF,KAAK,CAACE,GAAG,CAAC;YAChEZ,aAAa,CAACU,KAAK,CAACE,GAAG,CAAC;UAC1B,CAAE;UAAAR,QAAA,EAEDhB,aAAa,KAAKsB,KAAK,CAACE,GAAG,GAAG,iBAAiB,GAAG;QAAe;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,EAERpB,aAAa,KAAKsB,KAAK,CAACE,GAAG,iBAC1B7B,OAAA;UAAKoB,SAAS,EAAC,cAAc;UAAAC,QAAA,EAC1B,EAAAO,mBAAA,GAAArB,QAAQ,CAACoB,KAAK,CAACE,GAAG,CAAC,cAAAD,mBAAA,uBAAnBA,mBAAA,CAAqBM,MAAM,IAAG,CAAC,GAC9B3B,QAAQ,CAACoB,KAAK,CAACE,GAAG,CAAC,CAACH,GAAG,CAAC,CAACS,CAAC,EAAEC,CAAC,kBAC3BpC,OAAA;YAAaoB,SAAS,EAAC,eAAe;YAAAC,QAAA,gBACpCrB,OAAA;cAAMoB,SAAS,EAAC;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7BzB,OAAA;cAAAqB,QAAA,gBACErB,OAAA;gBAAGoB,SAAS,EAAC,QAAQ;gBAAAC,QAAA,EAAEc,CAAC,CAACE;cAAM;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACnCU,CAAC,CAACG,KAAK,iBAAItC,OAAA;gBAAGoB,SAAS,EAAC,OAAO;gBAAAC,QAAA,EAAEc,CAAC,CAACG;cAAK;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9CzB,OAAA;gBAAGoB,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAChB,IAAIkB,IAAI,CAACJ,CAAC,CAACK,SAAS,CAAC,CAACC,cAAc,CAAC;cAAC;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA,GAREW,CAAC;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OASN,CACN,CAAC,gBAEFzB,OAAA;YAAAqB,QAAA,EAAG;UAAuB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAC9B;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN;MAAA,GApCOE,KAAK,CAACE,GAAG;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAqCd,CAAC;IAAA,CACP,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAAvB,EAAA,CAxEKD,OAAO;AAAAyC,EAAA,GAAPzC,OAAO;AA0Eb,eAAeA,OAAO;AAAA,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}