{"ast":null,"code":"var _jsxFileName = \"D:\\\\new mern stack\\\\react\\\\project4\\\\ecommerce\\\\src\\\\Component\\\\MyOrder\\\\MyOrder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyOrder = ({\n  token\n}) => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [expandedOrder, setExpandedOrder] = useState(null);\n  const [orderEntries, setOrderEntries] = useState({});\n  useEffect(() => {\n    const fetchOrders = async () => {\n      const res = await axios.get(\"http://localhost:7000/my-orders\", {\n        headers: {\n          \"auth-token\": token\n        }\n      });\n      setOrders(res.data);\n    };\n    fetchOrders();\n  }, []);\n  const fetchOrderEntries = async orderId => {\n    const res = await axios.get(`http://localhost:7000/order-entries/${orderId}`);\n    setOrderEntries(prev => ({\n      ...prev,\n      [orderId]: res.data\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), orders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ddd\",\n        marginBottom: 10,\n        padding: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Order ID: \", order._id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Status: \", order.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Date: \", new Date(order.date).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Items:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this), order.cartItems.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image,\n          width: 50\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }, this), \" \", item.name, \" x \", item.quantity, \" = \\u20B9\", item.new_price]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setExpandedOrder(expandedOrder === order._id ? null : order._id);\n          if (!orderEntries[order._id]) fetchOrderEntries(order._id);\n        },\n        children: expandedOrder === order._id ? \"Hide Tracking\" : \"Show Tracking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), expandedOrder === order._id && orderEntries[order._id] && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Tracking:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), orderEntries[order._id].map((e, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: e.action\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this), \" - \", e.notes || \"No notes\", \" (\", new Date(e.timestamp).toLocaleString(), \")\"]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)]\n    }, order._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n_s(MyOrder, \"O6h9G6lm2hGkVMF8Zli18hY12qI=\");\n_c = MyOrder;\nexport default MyOrder;\nvar _c;\n$RefreshReg$(_c, \"MyOrder\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","MyOrder","token","_s","orders","setOrders","expandedOrder","setExpandedOrder","orderEntries","setOrderEntries","fetchOrders","res","get","headers","data","fetchOrderEntries","orderId","prev","children","fileName","_jsxFileName","lineNumber","columnNumber","map","order","style","border","marginBottom","padding","_id","status","Date","date","toLocaleString","cartItems","item","idx","src","image","width","name","quantity","new_price","onClick","marginTop","e","i","action","notes","timestamp","_c","$RefreshReg$"],"sources":["D:/new mern stack/react/project4/ecommerce/src/Component/MyOrder/MyOrder.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst MyOrder = ({ token }) => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [expandedOrder, setExpandedOrder] = useState(null);\r\n  const [orderEntries, setOrderEntries] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      const res = await axios.get(\"http://localhost:7000/my-orders\", { headers: { \"auth-token\": token } });\r\n      setOrders(res.data);\r\n    };\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrderEntries = async (orderId) => {\r\n    const res = await axios.get(`http://localhost:7000/order-entries/${orderId}`);\r\n    setOrderEntries(prev => ({ ...prev, [orderId]: res.data }));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>My Orders</h2>\r\n      {orders.map(order => (\r\n        <div key={order._id} style={{ border: \"1px solid #ddd\", marginBottom: 10, padding: 10 }}>\r\n          <h4>Order ID: {order._id}</h4>\r\n          <p>Status: {order.status}</p>\r\n          <p>Date: {new Date(order.date).toLocaleString()}</p>\r\n\r\n          <h5>Items:</h5>\r\n          {order.cartItems.map((item, idx) => (\r\n            <div key={idx}>\r\n              <img src={item.image} width={50} /> {item.name} x {item.quantity} = â‚¹{item.new_price}\r\n            </div>\r\n          ))}\r\n\r\n          <button onClick={() => {\r\n            setExpandedOrder(expandedOrder === order._id ? null : order._id);\r\n            if (!orderEntries[order._id]) fetchOrderEntries(order._id);\r\n          }}>\r\n            {expandedOrder === order._id ? \"Hide Tracking\" : \"Show Tracking\"}\r\n          </button>\r\n\r\n          {expandedOrder === order._id && orderEntries[order._id] && (\r\n            <div style={{ marginTop: 10 }}>\r\n              <h5>Tracking:</h5>\r\n              {orderEntries[order._id].map((e, i) => (\r\n                <div key={i}>\r\n                  <b>{e.action}</b> - {e.notes || \"No notes\"} ({new Date(e.timestamp).toLocaleString()})\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyOrder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}