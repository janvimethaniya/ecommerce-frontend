{"ast":null,"code":"var _jsxFileName = \"D:\\\\new mern stack\\\\react\\\\project4\\\\ecommerce\\\\src\\\\Component\\\\productDisplay\\\\ProductDisplay.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport \"./productdisplay.css\";\nimport star_dull from \"../Assets/star_dull_icon.png\";\nimport { ShopContext } from \"../../Context/Shopcontext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDisplay = ({\n  product\n}) => {\n  _s();\n  const {\n    addToCartWithSize\n  } = useContext(ShopContext);\n  const navigate = useNavigate();\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  const [quantity, setQuantity] = useState(1);\n  const discount = Math.round((product.old_price - product.new_price) / product.old_price * 100);\n\n  /* ================= ADD TO CART ================= */\n  const handleAddToCart = () => {\n    if (!selectedSize) {\n      alert(\"Please select size\");\n      return;\n    }\n    for (let i = 0; i < quantity; i++) {\n      addToCartWithSize(product.id, selectedSize);\n    }\n    alert(\"Product added to cart\");\n  };\n\n  /* ================= BUY NOW ================= */\n  const handleBuyNow = () => {\n    const token = localStorage.getItem(\"auth-token\");\n    if (!token) {\n      navigate(\"/login\", {\n        state: {\n          redirectTo: \"/checkout\",\n          productId: product.id,\n          size: selectedSize,\n          qty: quantity\n        }\n      });\n      return;\n    }\n    if (!selectedSize) {\n      alert(\"Please select size\");\n      return;\n    }\n    for (let i = 0; i < quantity; i++) {\n      addToCartWithSize(product.id, selectedSize);\n    }\n    navigate(\"/checkout\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"productdisplay\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productdisplay-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"productdisplay-main-img\",\n        src: product.image,\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"discount-tag\",\n        children: [discount, \"% OFF\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productdisplay-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"star-rating\",\n        children: [[...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: star_dull,\n          alt: \"star\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"(122)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prices\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"old\",\n          children: [\"\\u20B9\", product.old_price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"new\",\n          children: [\"\\u20B9\", product.new_price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Select Size\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"size-box\",\n        children: [\"S\", \"M\", \"L\", \"XL\", \"XXL\"].map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: selectedSize === s ? \"active\" : \"\",\n          onClick: () => setSelectedSize(s),\n          children: s\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"qty-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setQuantity(Math.max(1, quantity - 1)),\n          children: \"\\u2212\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: quantity,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setQuantity(quantity + 1),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-btn\",\n          onClick: handleAddToCart,\n          children: \"Add To Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buy-btn\",\n          onClick: handleBuyNow,\n          children: \"Buy Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDisplay, \"uTv2ZA69ARAUWR/hT47iegNvPoc=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductDisplay;\nexport default ProductDisplay;\nvar _c;\n$RefreshReg$(_c, \"ProductDisplay\");","map":{"version":3,"names":["React","useContext","useState","star_dull","ShopContext","useNavigate","jsxDEV","_jsxDEV","ProductDisplay","product","_s","addToCartWithSize","navigate","selectedSize","setSelectedSize","quantity","setQuantity","discount","Math","round","old_price","new_price","handleAddToCart","alert","i","id","handleBuyNow","token","localStorage","getItem","state","redirectTo","productId","size","qty","className","children","src","image","alt","name","fileName","_jsxFileName","lineNumber","columnNumber","Array","map","_","s","onClick","max","value","readOnly","_c","$RefreshReg$"],"sources":["D:/new mern stack/react/project4/ecommerce/src/Component/productDisplay/ProductDisplay.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport \"./productdisplay.css\";\r\nimport star_dull from \"../Assets/star_dull_icon.png\";\r\nimport { ShopContext } from \"../../Context/Shopcontext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ProductDisplay = ({ product }) => {\r\n  const { addToCartWithSize } = useContext(ShopContext);\r\n  const navigate = useNavigate();\r\n\r\n  const [selectedSize, setSelectedSize] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const discount = Math.round(\r\n    ((product.old_price - product.new_price) / product.old_price) * 100\r\n  );\r\n\r\n  /* ================= ADD TO CART ================= */\r\n  const handleAddToCart = () => {\r\n    if (!selectedSize) {\r\n      alert(\"Please select size\");\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < quantity; i++) {\r\n      addToCartWithSize(product.id, selectedSize);\r\n    }\r\n\r\n    alert(\"Product added to cart\");\r\n  };\r\n\r\n  /* ================= BUY NOW ================= */\r\n  const handleBuyNow = () => {\r\n    const token = localStorage.getItem(\"auth-token\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\", {\r\n        state: {\r\n          redirectTo: \"/checkout\",\r\n          productId: product.id,\r\n          size: selectedSize,\r\n          qty: quantity,\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!selectedSize) {\r\n      alert(\"Please select size\");\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < quantity; i++) {\r\n      addToCartWithSize(product.id, selectedSize);\r\n    }\r\n\r\n    navigate(\"/checkout\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"productdisplay\">\r\n      <div className=\"productdisplay-left\">\r\n        <img\r\n          className=\"productdisplay-main-img\"\r\n          src={product.image}\r\n          alt={product.name}\r\n        />\r\n        {discount > 0 && <span className=\"discount-tag\">{discount}% OFF</span>}\r\n      </div>\r\n\r\n      <div className=\"productdisplay-right\">\r\n        <h1>{product.name}</h1>\r\n\r\n        <div className=\"star-rating\">\r\n          {[...Array(5)].map((_, i) => (\r\n            <img key={i} src={star_dull} alt=\"star\" />\r\n          ))}\r\n          <span>(122)</span>\r\n        </div>\r\n\r\n        <div className=\"prices\">\r\n          <span className=\"old\">₹{product.old_price}</span>\r\n          <span className=\"new\">₹{product.new_price}</span>\r\n        </div>\r\n\r\n        <h3>Select Size</h3>\r\n        <div className=\"size-box\">\r\n          {[\"S\", \"M\", \"L\", \"XL\", \"XXL\"].map((s) => (\r\n            <button\r\n              key={s}\r\n              className={selectedSize === s ? \"active\" : \"\"}\r\n              onClick={() => setSelectedSize(s)}\r\n            >\r\n              {s}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <h3>Quantity</h3>\r\n        <div className=\"qty-box\">\r\n          <button onClick={() => setQuantity(Math.max(1, quantity - 1))}>−</button>\r\n          <input value={quantity} readOnly />\r\n          <button onClick={() => setQuantity(quantity + 1)}>+</button>\r\n        </div>\r\n\r\n        <div className=\"action-buttons\">\r\n          <button className=\"add-btn\" onClick={handleAddToCart}>\r\n            Add To Cart\r\n          </button>\r\n\r\n          <button className=\"buy-btn\" onClick={handleBuyNow}>\r\n            Buy Now\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDisplay;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}