{"ast":null,"code":"import { MotionValue } from '../../value/index.mjs';\nimport { px } from '../../value/types/numbers/units.mjs';\nimport { addAttrValue } from '../attr/index.mjs';\nimport { addStyleValue } from '../style/index.mjs';\nimport { createSelectorEffect } from '../utils/create-dom-effect.mjs';\nimport { createEffect } from '../utils/create-effect.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\nconst toPx = px.transform;\nfunction addSVGPathValue(element, state, key, value) {\n  frame.render(() => element.setAttribute(\"pathLength\", \"1\"));\n  if (key === \"pathOffset\") {\n    return state.set(key, value, () => element.setAttribute(\"stroke-dashoffset\", toPx(-state.latest[key])));\n  } else {\n    if (!state.get(\"stroke-dasharray\")) {\n      state.set(\"stroke-dasharray\", new MotionValue(\"1 1\"), () => {\n        const {\n          pathLength = 1,\n          pathSpacing\n        } = state.latest;\n        element.setAttribute(\"stroke-dasharray\", `${toPx(pathLength)} ${toPx(pathSpacing ?? 1 - Number(pathLength))}`);\n      });\n    }\n    return state.set(key, value, undefined, state.get(\"stroke-dasharray\"));\n  }\n}\nconst addSVGValue = (element, state, key, value) => {\n  if (key.startsWith(\"path\")) {\n    return addSVGPathValue(element, state, key, value);\n  } else if (key.startsWith(\"attr\")) {\n    return addAttrValue(element, state, convertAttrKey(key), value);\n  }\n  const handler = key in element.style ? addStyleValue : addAttrValue;\n  return handler(element, state, key, value);\n};\nconst svgEffect = /*@__PURE__*/createSelectorEffect(/*@__PURE__*/createEffect(addSVGValue));\nfunction convertAttrKey(key) {\n  return key.replace(/^attr([A-Z])/, (_, firstChar) => firstChar.toLowerCase());\n}\nexport { svgEffect };","map":{"version":3,"names":["toPx","px","transform","addSVGPathValue","element","state","key","value","frame","render","setAttribute","set","latest","get","MotionValue","pathLength","pathSpacing","Number","undefined","addSVGValue","startsWith","addAttrValue","convertAttrKey","handler","style","addStyleValue","svgEffect","createSelectorEffect","createEffect","replace","_","firstChar","toLowerCase"],"sources":["D:\\new mern stack\\react\\project4\\ecommerce\\node_modules\\motion-dom\\src\\effects\\svg\\index.ts"],"sourcesContent":["import { frame } from \"../../frameloop\"\nimport { MotionValue } from \"../../value\"\nimport { px } from \"../../value/types/numbers/units\"\nimport { addAttrValue } from \"../attr\"\nimport { MotionValueState } from \"../MotionValueState\"\nimport { addStyleValue } from \"../style\"\nimport { createSelectorEffect } from \"../utils/create-dom-effect\"\nimport { createEffect } from \"../utils/create-effect\"\n\nconst toPx = px.transform!\n\nfunction addSVGPathValue(\n    element: SVGElement,\n    state: MotionValueState,\n    key: string,\n    value: MotionValue\n) {\n    frame.render(() => element.setAttribute(\"pathLength\", \"1\"))\n\n    if (key === \"pathOffset\") {\n        return state.set(key, value, () =>\n            element.setAttribute(\"stroke-dashoffset\", toPx(-state.latest[key]))\n        )\n    } else {\n        if (!state.get(\"stroke-dasharray\")) {\n            state.set(\"stroke-dasharray\", new MotionValue(\"1 1\"), () => {\n                const { pathLength = 1, pathSpacing } = state.latest\n\n                element.setAttribute(\n                    \"stroke-dasharray\",\n                    `${toPx(pathLength)} ${toPx(\n                        pathSpacing ?? 1 - Number(pathLength)\n                    )}`\n                )\n            })\n        }\n\n        return state.set(key, value, undefined, state.get(\"stroke-dasharray\"))\n    }\n}\n\nconst addSVGValue = (\n    element: SVGElement,\n    state: MotionValueState,\n    key: string,\n    value: MotionValue\n) => {\n    if (key.startsWith(\"path\")) {\n        return addSVGPathValue(element, state, key, value)\n    } else if (key.startsWith(\"attr\")) {\n        return addAttrValue(element, state, convertAttrKey(key), value)\n    }\n\n    const handler = key in element.style ? addStyleValue : addAttrValue\n    return handler(element, state, key, value)\n}\n\nexport const svgEffect = /*@__PURE__*/ createSelectorEffect(\n    /*@__PURE__*/ createEffect(addSVGValue)\n)\n\nfunction convertAttrKey(key: string) {\n    return key.replace(/^attr([A-Z])/, (_, firstChar) =>\n        firstChar.toLowerCase()\n    )\n}\n"],"mappings":";;;;;;;AASA,MAAMA,IAAI,GAAGC,EAAE,CAACC,SAAU;AAE1B,SAASC,eAAeA,CACpBC,OAAmB,EACnBC,KAAuB,EACvBC,GAAW,EACXC,KAAkB;EAElBC,KAAK,CAACC,MAAM,CAAC,MAAML,OAAO,CAACM,YAAY,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;EAE3D,IAAIJ,GAAG,KAAK,YAAY,EAAE;IACtB,OAAOD,KAAK,CAACM,GAAG,CAACL,GAAG,EAAEC,KAAK,EAAE,MACzBH,OAAO,CAACM,YAAY,CAAC,mBAAmB,EAAEV,IAAI,CAAC,CAACK,KAAK,CAACO,MAAM,CAACN,GAAG,CAAC,CAAC,CAAC,CACtE;GACJ,MAAM;IACH,IAAI,CAACD,KAAK,CAACQ,GAAG,CAAC,kBAAkB,CAAC,EAAE;MAChCR,KAAK,CAACM,GAAG,CAAC,kBAAkB,EAAE,IAAIG,WAAW,CAAC,KAAK,CAAC,EAAE,MAAK;QACvD,MAAM;UAAEC,UAAU,GAAG,CAAC;UAAEC;QAAW,CAAE,GAAGX,KAAK,CAACO,MAAM;QAEpDR,OAAO,CAACM,YAAY,CAChB,kBAAkB,EAClB,GAAGV,IAAI,CAACe,UAAU,CAAC,IAAIf,IAAI,CACvBgB,WAAW,IAAI,CAAC,GAAGC,MAAM,CAACF,UAAU,CAAC,CACxC,EAAE,CACN;MACL,CAAC,CAAC;;IAGN,OAAOV,KAAK,CAACM,GAAG,CAACL,GAAG,EAAEC,KAAK,EAAEW,SAAS,EAAEb,KAAK,CAACQ,GAAG,CAAC,kBAAkB,CAAC,CAAC;;AAE9E;AAEA,MAAMM,WAAW,GAAGA,CAChBf,OAAmB,EACnBC,KAAuB,EACvBC,GAAW,EACXC,KAAkB,KAClB;EACA,IAAID,GAAG,CAACc,UAAU,CAAC,MAAM,CAAC,EAAE;IACxB,OAAOjB,eAAe,CAACC,OAAO,EAAEC,KAAK,EAAEC,GAAG,EAAEC,KAAK,CAAC;GACrD,MAAM,IAAID,GAAG,CAACc,UAAU,CAAC,MAAM,CAAC,EAAE;IAC/B,OAAOC,YAAY,CAACjB,OAAO,EAAEC,KAAK,EAAEiB,cAAc,CAAChB,GAAG,CAAC,EAAEC,KAAK,CAAC;;EAGnE,MAAMgB,OAAO,GAAGjB,GAAG,IAAIF,OAAO,CAACoB,KAAK,GAAGC,aAAa,GAAGJ,YAAY;EACnE,OAAOE,OAAO,CAACnB,OAAO,EAAEC,KAAK,EAAEC,GAAG,EAAEC,KAAK,CAAC;AAC9C,CAAC;AAEY,MAAAmB,SAAS,gBAAiBC,oBAAoB,CACvD,aAAcC,YAAY,CAACT,WAAW,CAAC;AAG3C,SAASG,cAAcA,CAAChB,GAAW;EAC/B,OAAOA,GAAG,CAACuB,OAAO,CAAC,cAAc,EAAE,CAACC,CAAC,EAAEC,SAAS,KAC5CA,SAAS,CAACC,WAAW,EAAE,CAC1B;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}